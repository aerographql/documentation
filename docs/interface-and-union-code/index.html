<!DOCTYPE html>
<html>
    <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="">
  <meta name="keyword" content="">
  <link rel="shortcut icon" type="image/ico" href="/documentation/images/logo-favicon.png"/> 
  <title>
    
      Aerographql
    
  </title>
  <link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet">
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/documentation/css/style.css">
  <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdn.bootcss.com/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>
</head>


    <body>
        <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/documentation/">
      <img src="/documentation/images/logo-full.png">
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/documentation/" class="item-link">
                Home
                
            </a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/documentation/docs/" class="item-link">
                Documentations
                
            </a>
          
        </li>
      
        <li class="list-item">
          
            <a href="https://github.com/aerographql" class="item-link">
                Github
                
                    <i>
                        <img src="/documentation/images/logo-github.png">
                    </i>
                
            </a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/documentation/" class="menu-link">
                  Home
                  
              </a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/documentation/docs/" class="menu-link">
                  Documentations
                  
              </a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="https://github.com/aerographql" class="menu-link">
                  Github
                  
                    <i>
                        <img src="/documentation/images/logo-github.png">
                    </i>
                  
              </a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>

        
<div id="article-banner-spacer"></div>

<main class="app-body flex-box">
    <article class="post-article">
        <section class="markdown-content">
            <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; graphqlExpress, graphiqlExpress &#125; <span class="keyword">from</span> <span class="string">'apollo-server-express'</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> express <span class="keyword">from</span> <span class="string">'express'</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> bodyParser <span class="keyword">from</span> <span class="string">'body-parser'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Field, ObjectDefinition, ObjectImplementation, Resolver, Arg, Schema, BaseSchema, Interface &#125; <span class="keyword">from</span> <span class="string">'aerographql-schema'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * Fake Database objects</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">let</span> users: User[] = [</span><br><span class="line">    &#123; <span class="attr">admin</span>: <span class="literal">false</span>, <span class="attr">age</span>: <span class="number">25</span>, <span class="attr">description</span>: <span class="string">'Description of Bob'</span>, <span class="attr">name</span>: <span class="string">'Bob'</span>, <span class="attr">id</span>: <span class="string">'0'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">admin</span>: <span class="literal">true</span>, <span class="attr">age</span>: <span class="number">36</span>, <span class="attr">description</span>: <span class="string">'Description of Alice'</span>, <span class="attr">name</span>: <span class="string">'Alice'</span>, <span class="attr">id</span>: <span class="string">'1'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">admin</span>: <span class="literal">false</span>, <span class="attr">age</span>: <span class="number">28</span>, <span class="attr">description</span>: <span class="string">'Decription of Steeve'</span>, <span class="attr">name</span>: <span class="string">'Steeve'</span>, <span class="attr">id</span>: <span class="string">'3'</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> todos: &#123; [ key: string ]: (PonctualTodo | RecurentTodo) [] &#125; =</span><br><span class="line">    &#123;</span><br><span class="line">        Bob: [</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">'0'</span>, <span class="attr">title</span>: <span class="string">'Todo1'</span>, <span class="attr">content</span>: <span class="string">'Bob Todo1 content'</span>, <span class="attr">occurence</span>: <span class="string">'Every Week'</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">'1'</span>, <span class="attr">title</span>: <span class="string">'Todo2'</span>, <span class="attr">content</span>: <span class="string">'Bob Todo2 content'</span>, <span class="attr">date</span>: <span class="string">'Friday'</span>  &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">'2'</span>, <span class="attr">title</span>: <span class="string">'Todo3'</span>, <span class="attr">content</span>: <span class="string">'Bob Todo3 content'</span>, <span class="attr">occurence</span>: <span class="string">'Every Day'</span>  &#125;</span><br><span class="line">        ],</span><br><span class="line">        Alice: [</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">'3'</span>, <span class="attr">title</span>: <span class="string">'Todo1'</span>, <span class="attr">content</span>: <span class="string">'Alice Todo1 content'</span>, <span class="attr">date</span>: <span class="string">'Mondy'</span>  &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">'4'</span>, <span class="attr">title</span>: <span class="string">'Todo2'</span>, <span class="attr">content</span>: <span class="string">'Alice Todo2 content'</span>, <span class="attr">date</span>: <span class="string">'Saturday'</span>  &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">'5'</span>, <span class="attr">title</span>: <span class="string">'Todo3'</span>, <span class="attr">content</span>: <span class="string">'Alice Todo3 content'</span>, <span class="attr">occurence</span>: <span class="string">'Every Week'</span>  &#125; ],</span><br><span class="line">        Steeve: [</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">'6'</span>, <span class="attr">title</span>: <span class="string">'Todo1'</span>, <span class="attr">content</span>: <span class="string">'Steeve Todo1 content'</span>, <span class="attr">occurence</span>: <span class="string">'Every Month'</span>  &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">'7'</span>, <span class="attr">title</span>: <span class="string">'Todo2'</span>, <span class="attr">content</span>: <span class="string">'Steeve Todo2 content'</span>, <span class="attr">date</span>: <span class="string">'Tuesday'</span>  &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">'8'</span>, <span class="attr">title</span>: <span class="string">'Todo3'</span>, <span class="attr">content</span>: <span class="string">'Steeve Todo3 content'</span>, <span class="attr">occurence</span>: <span class="string">'Every Day'</span>  &#125; ]</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * Schema definitions</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">@ObjectDefinition( &#123; <span class="attr">name</span>: <span class="string">'User'</span> &#125; )</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    @Field( &#123; <span class="attr">type</span>: <span class="string">'ID'</span> &#125; ) id: string;</span><br><span class="line">    @Field() name: string = <span class="string">""</span>;</span><br><span class="line">    @Field() description: string = <span class="string">"Empty description"</span>;</span><br><span class="line">    @Field() age: number = <span class="number">0</span>;</span><br><span class="line">    @Field() admin: boolean = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Interface( &#123; <span class="attr">name</span>: <span class="string">'Todo'</span> &#125; )</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Todo</span> </span>&#123;</span><br><span class="line">    @Field( &#123; <span class="attr">type</span>: <span class="string">'ID'</span> &#125; ) id: string;</span><br><span class="line">    @Field() title: string = <span class="string">""</span>;</span><br><span class="line">    @Field() content: string = <span class="string">"Empty todo"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@ObjectDefinition( &#123; <span class="attr">implements</span>: [Todo]  &#125; )</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">PonctualTodo</span> </span>&#123;</span><br><span class="line">    @Field( &#123; <span class="attr">type</span>: <span class="string">'ID'</span> &#125; ) id: string;</span><br><span class="line">    @Field() title: string = <span class="string">""</span>;</span><br><span class="line">    @Field() content: string = <span class="string">"Empty todo"</span>;</span><br><span class="line">    @Field() date: string = <span class="string">"Date"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@ObjectDefinition( &#123; <span class="attr">implements</span>: [Todo]  &#125; )</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">RecurentTodo</span> </span>&#123;</span><br><span class="line">    @Field( &#123; <span class="attr">type</span>: <span class="string">'ID'</span> &#125; ) id: string;</span><br><span class="line">    @Field() title: string = <span class="string">""</span>;</span><br><span class="line">    @Field() content: string = <span class="string">"Empty todo"</span>;</span><br><span class="line">    @Field() occurence: string = <span class="string">"Date"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@ObjectImplementation( &#123; <span class="attr">name</span>: <span class="string">'User'</span> &#125; )</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">UserImpl</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    @Resolver( &#123; <span class="attr">type</span>: Todo, <span class="attr">list</span>: <span class="literal">true</span>&#125; )</span><br><span class="line">    todos( user: User, @Arg( &#123; <span class="attr">nullable</span>: <span class="literal">true</span> &#125; ) search: string ) &#123;</span><br><span class="line">        <span class="keyword">return</span> todos[user.name];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@ObjectImplementation( &#123; <span class="attr">name</span>: <span class="string">'RootQuery'</span> &#125; )</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">RootQuery</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    @Resolver( &#123; <span class="attr">type</span>: User &#125; )</span><br><span class="line">    user( @Arg() name: string ): User | <span class="built_in">Promise</span>&lt;User&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> users.find( <span class="function"><span class="params">u</span> =&gt;</span> u.name === name );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Schema( &#123;</span><br><span class="line">    rootQuery: <span class="string">'RootQuery'</span>,</span><br><span class="line">    components: [ RootQuery, User, UserImpl, Todo, PonctualTodo, RecurentTodo ]</span><br><span class="line">&#125; )</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">MySchema</span> <span class="keyword">extends</span> <span class="title">BaseSchema</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * Actual server code </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">let</span> mySchema = <span class="keyword">new</span> MySchema();</span><br><span class="line"><span class="keyword">this</span>.app = express();</span><br><span class="line"><span class="keyword">this</span>.app.use( <span class="string">'/graphql'</span>, bodyParser.json(), graphqlExpress( &#123; <span class="attr">schema</span>: mySchema.graphQLSchema &#125; ) );</span><br><span class="line"><span class="keyword">this</span>.app.use( <span class="string">'/graphiql'</span>, graphiqlExpress( &#123; <span class="attr">endpointURL</span>: <span class="string">'/graphql'</span> &#125; ) );</span><br><span class="line"><span class="keyword">this</span>.app.listen( <span class="number">3000</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log( <span class="string">'Up and running !'</span> );</span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure>

        </section>
    </article>
    
</main>

<script>
    (function () {
        

        // error image
        $(".markdown-content img").on('error', function () {
            $(this).attr('src', 'http://file.muyutech.com/error-img.png')
            $(this).css({
                'cursor': 'default'
            })
        })

        // zoom image
        $(".markdown-content img").on('click', function () {
            var src = $(this).attr('src')
            if (src !== 'http://file.muyutech.com/error-img.png') {
                var imageW = $(this).width()
                var imageH = $(this).height()

                var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
                zoom = zoom < 1 ? 1 : zoom
                zoom = zoom > 2 ? 2 : zoom
                var transY = (($(window).height() - imageH) / 2).toFixed(2)

                $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="' +
                    src + '" /></div></div>')
                $('.image-view-wrap').addClass('wrap-active')
                $('.image-view-wrap img').css({
                    'width': `${imageW}`,
                    'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
                })
                $('html').css('overflow', 'hidden')

                $('.image-view-wrap').on('click', function () {
                    $(this).remove()
                    $('html').attr('style', '')
                })
            }
        })

    })();
</script>

        <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
        <footer>
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>

<script>
  var hasLine = 'true';
  async("//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine === 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>
<script src="/documentation/js/script.js"></script>

    </body>

</html>
